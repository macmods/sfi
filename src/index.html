<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <title>Seaweed Farming Index</title>
    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.17/esri/themes/light/main.css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <!-- Load the Chart.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
    <script src="https://js.arcgis.com/4.17/"></script>
    <script type="module" src="js/main.js"></script>
    <script src="js/nav.js"></script>
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <link rel="stylesheet" type="text/css" href="css/summary_report.css" />
  </head>

  <body>
    <h1>Seaweed Farming Index</h1>

    <div class="navbar">
      <button
        id="layer-toggle"
        class="nav-button"
        onclick="navButton('layer-toggle')"
      >
        <input id="icons" type="image" src="images/nav-layer-toggle.png" />
      </button>
      <button id="sfi-calc" class="nav-button" onclick="navButton('sfi-calc')">
        <input id="icons" type="image" src="images/nav-sfi-calc.png" />
      </button>
      <button
        id="report-sfi"
        class="nav-button"
        onclick="navButton('report-sfi')"
      >
        <input id="icons" type="image" src="images/nav-report.png" />
      </button>
    </div>

    <div id="viewDiv"></div>
    <ul style="list-style-type: none">
      <span id="layerToggle" class="esri-widget">
        <li>
          <input type="checkbox" id="kelpProductivityLayer" /> Kelp Productivity
        </li>
        <div id="checkbox" style="font-weight: bold">
          Operational Constraints
        </div>
        <li>
          <input type="checkbox" id="principalPortsLayer" /> Principal Ports
        </li>
        <li><input type="checkbox" id="bathymetryLayer" /> Bathymetry</li>
        <div id="checkbox" style="font-weight: bold">
          Marine Spatial Planning
        </div>
        <li>
          <input type="checkbox" id="shippingLanesLayer" /> Shipping Lanes
        </li>
        <li>
          <input type="checkbox" id="dangerZonesAndRestrictedAreasLayer" />
          Danger Zones and Restricted Areas
        </li>
        <li>
          <input type="checkbox" id="mpaInventoryLayer" /> Marine Protected Area
          Inventory
        </li>
        <li>
          <input type="checkbox" id="federalAndStateWatersLayer" /> Federal and
          State Waters
        </li>
      </span>
    </ul>

    <!-- User Input Query SFI -->
    <div id="sfiCalc" class="esri-widget" style="display: none">
      <h2 id="oc">Operational Constraints</h2>
      Minimum Seafloor Depth (m)
      <div id="minOCDepthSlider" class="slider"></div>

      Maximum Seafloor Depth (m)
      <div id="maxOCDepthSlider" class="slider"></div>

      Maximum Distance to Port (km)
      <div id="maxOCToPortSlider" class="slider"></div>

      <h2>Weighting Factor</h2>
      Weighting factor: 0 - Farm Productivity, 1 - Operational Constraints
      <div id="weightingFactor" class="slider"></div>

      <h2>Marine Spatial Planning</h2>

      <div class="msp">
        <input type="checkbox" id="includeFederal" /> Federal Water Included
      </div>
      <div class="msp">
        <input type="checkbox" id="includeState" /> State Water Included
      </div>
      <div class="msp">
        <input type="checkbox" id="includShippingLanes" /> Shipping Lanes
        Included
      </div>
      <div class="msp">
        <input type="checkbox" id="includRestrictedArea" /> Restricted And
        Dangerous Area Included
      </div>

      <button id="query-sfi" class="esri-widget">Calculate SFI</button>
      <button id="clear-report" class="esri-widget">Clear Report</button>
    </div>

    <!-- Geometry Query -->
    <div id="queryDiv" class="esri-widget" style="display: none">
      <b>Query by geometry</b><br />
      <br />Draw a geometry to query by:
      <div class="geometry-options">
        <button
          class="esri-widget--button esri-icon-map-pin geometry-button"
          id="point-geometry-button"
          value="point"
          title="Query by point"
        ></button>
        <button
          class="esri-widget--button esri-icon-polygon geometry-button"
          id="polygon-geometry-button"
          value="polygon"
          title="Query by polygon"
        ></button>
      </div>
      <br />
      <button class="esri-button" id="clearGeometry" type="button">
        Clear
      </button>
      <br />
      <button class="esri-button" id="printPage" type="button">
        Print Page
      </button>
    </div>

    <!-- Summary Report -->
    <div id="resultDiv" class="esri-widget">
      <span class="reportHead">Seaweed Farming Index Report</span>
      <div class="progress-container">
        <div class="progress-bar" id="myBar"></div>
      </div>
      <div class="content">
        <span class="subHead">GENERAL INFORMATION</span>
        <p>
          The report provides an analysis of the Seaweed Farming Index for the
          selected area along with a breakdown of the calculation of the index
          and information for the size, seafloor depth, jurisdictional
          boundaries, and proximity to port of the selected area.
        </p>
        <span class="subHead">Seaweed Farming Index</span>
        <p>
          The Seaweed Farming Index varies from zero to one, where high values
          are more favorable to farming, lower values are less favorable, and a
          value of zero is exclusive to farming. The Index incorporates both
          potential kelp productivity and those operational constraints selected
          by the user.
        </p>
        <div id="sfiInfoContainer"></div>
        <span class="subHead">Attribution Analaysis</span>
        <p>
          The breakdown of the Seaweed Farming Index for the selected area is as
          follows:
        </p>
        <span class="subHead">Report Area</span>
        <p>Needs content</p>
        <span class="subHead">Seafloor Depth</span>
        <p>
          Seafloor depth is an important consideration for farm installation and
          operational costs. Minimum, maximum and average seafloor depth
          (meters) are reported as positive values below the sea surface.
        </p>
        <div id="depthInfoContainer"></div>
        <span class="subHead">Distance to Port</span>
        <p>
          Distance to the nearest port or harbor is an important consideration
          for farm access and operational costs.
        </p>
        <div id="distanceInfoContainer"></div>
        <span class="subHead">Jurisdictional Boundaries</span>
        <p>
          Seaweed farming activities can fall within differing governing
          jurisdictions. Having a clear understanding of the jurisdictions in
          which a proposed activity might occur will help determine which
          statutes, regulations, and administrative procedures must be
          addressed. The report shows the breakdown of the selected area which
          falls within federal versus state waters.
        </p>
        <div>
          <canvas id="jurisdictionChart" width="250" height="300" />
        </div>
      </div>
    </div>

    <!-- Coordinates widget -->
    <div id="coordsWidget" class="esri-widget esri-component"></div>

    <!-- Distance Measurement -->
    <div id="measureBar">
      <button
        class="action-button esri-icon-measure-line"
        id="distanceButton"
        type="button"
        title="Measure distance between two or more points"
      ></button>
      <button
        class="action-button esri-icon-measure-area"
        id="areaButton"
        type="button"
        title="Measure area"
      ></button>
    </div>
  </body>
</html>
